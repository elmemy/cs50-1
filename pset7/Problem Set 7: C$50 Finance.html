<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Problem Set 7: C$50 Finance</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }
audio, canvas, video { display: inline-block; }
audio:not([controls]) { display: none; height: 0; }
[hidden] { display: none; }
html { background: #fff; color: #000; font-family: sans-serif; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; }
body { margin: 0; }
a:focus { outline: thin dotted; }
a:active, a:hover { outline: 0; }
h1 { font-size: 2em; margin: 0.67em 0; }
abbr[title] { border-bottom: 1px dotted; }
b, strong { font-weight: bold; }
dfn { font-style: italic; }
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }
mark { background: #ff0; color: #000; }
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }
pre { white-space: pre-wrap; }
q { quotes: "\201C" "\201D" "\2018" "\2019"; }
small { font-size: 80%; }
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }
img { border: 0; }
svg:not(:root) { overflow: hidden; }
figure { margin: 0; }
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }
legend { border: 0; padding: 0; }
button, input, select, textarea { font-family: inherit; font-size: 100%; margin: 0; }
button, input { line-height: normal; }
button, select { text-transform: none; }
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; cursor: pointer; }
button[disabled], html input[disabled] { cursor: default; }
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; padding: 0; }
input[type="search"] { -webkit-appearance: textfield; -moz-box-sizing: content-box; -webkit-box-sizing: content-box; box-sizing: content-box; }
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }
textarea { overflow: auto; vertical-align: top; }
table { border-collapse: collapse; border-spacing: 0; }
*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
html, body { font-size: 100%; }
body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }
a:hover { cursor: pointer; }
a:focus { outline: none; }
img, object, embed { max-width: 100%; height: auto; }
object, embed { height: 100%; }
img { -ms-interpolation-mode: bicubic; }
#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }
.left { float: left !important; }
.right { float: right !important; }
.text-left { text-align: left !important; }
.text-right { text-align: right !important; }
.text-center { text-align: center !important; }
.text-justify { text-align: justify !important; }
.hide { display: none; }
.antialiased, body { -webkit-font-smoothing: antialiased; }
img { display: inline-block; vertical-align: middle; }
textarea { height: auto; min-height: 50px; }
select { width: 100%; }
p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }
.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #7a2518; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }
a { color: #005498; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #00467f; }
a img { border: none; }
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Georgia, "URW Bookman L", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }
h1 { font-size: 2.125em; }
h2 { font-size: 1.6875em; }
h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }
h4 { font-size: 1.125em; }
h5 { font-size: 1.125em; }
h6 { font-size: 1em; }
hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }
em, i { font-style: italic; line-height: inherit; }
strong, b { font-weight: bold; line-height: inherit; }
small { font-size: 60%; line-height: inherit; }
code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #6d180b; }
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }
ul, ol { margin-left: 1.5em; }
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }
abbr { text-transform: none; }
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: inherit; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }
blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }
.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }
@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
.print-only { display: none !important; }
@media print { * { background: transparent !important; color: #000 !important; box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }
.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }
*:not(pre) > code { font-size: 0.9375em; padding: 1px 3px 0; white-space: nowrap; background-color: #f2f2f2; border: 1px solid #cccccc; -webkit-border-radius: 4px; border-radius: 4px; text-shadow: none; }
pre, pre > code { line-height: 1.4; color: inherit; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }
kbd.keyseq { color: #555555; }
kbd:not(.keyseq) { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }
kbd kbd:first-child { margin-left: 0; }
kbd kbd:last-child { margin-right: 0; }
.menuseq, .menu { color: #090909; }
p a > code:hover { color: #561309; }
#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }
#header { margin-bottom: 2.5em; }
#header > h1 { color: black; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #6f6f6f; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }
#toc { border-bottom: 3px double #ebebeb; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }
#toctitle { color: #7a2518; }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #ebebeb; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #ebebeb; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }
#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }
#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }
#footer-text { color: #dddddd; line-height: 1.44; }
.sect1 { padding-bottom: 1.25em; }
.sect1 + .sect1 { border-top: 3px double #ebebeb; }
#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }
.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }
.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }
.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }
table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }
.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #6f6f6f; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }
.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }
.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }
.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; line-height: 1.6; }
.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }
.literalblock > .content pre, .listingblock > .content pre { background: none; border-width: 1px 0; border-style: dotted; border-color: #bfbfbf; -webkit-border-radius: 4px; border-radius: 4px; padding: 0.75em 0.75em 0.5em 0.75em; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.8em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 1em; } }
.listingblock > .content { position: relative; }
.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }
.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }
.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }
.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }
table.pyhltable { border: 0; margin-bottom: 0; }
table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }
table.pyhltable td.code { padding-left: .75em; padding-right: 0; }
.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }
.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }
table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }
.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: inherit; color: #555555; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }
table thead th, table tfoot th { font-weight: bold; }
table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 4px; border-radius: 4px; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }
table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }
table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }
table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }
th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }
th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }
th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }
th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }
th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }
th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }
p.tableblock.header { color: #222222; font-weight: bold; }
td > div.verse { white-space: pre; }
ol { margin-left: 1.75em; }
ul li ol { margin-left: 1.5em; }
dl dd { margin-left: 1.125em; }
dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }
ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }
ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }
ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }
ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }
ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }
ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }
.unstyled dl dt { font-weight: normal; font-style: normal; }
ol.arabic { list-style-type: decimal; }
ol.decimal { list-style-type: decimal-leading-zero; }
ol.loweralpha { list-style-type: lower-alpha; }
ol.upperalpha { list-style-type: upper-alpha; }
ol.lowerroman { list-style-type: lower-roman; }
ol.upperroman { list-style-type: upper-roman; }
ol.lowergreek { list-style-type: lower-greek; }
.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }
td.hdlist1 { padding-right: .8em; font-weight: bold; }
td.hdlist1, td.hdlist2 { vertical-align: top; }
.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }
.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }
.qanda > ol > li > p > em:only-child { color: #00467f; }
.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }
.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }
.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }
a.image { text-decoration: none; }
span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }
.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }
div.unbreakable { page-break-inside: avoid; }
.big { font-size: larger; }
.small { font-size: smaller; }
.underline { text-decoration: underline; }
.overline { text-decoration: overline; }
.line-through { text-decoration: line-through; }
.aqua { color: #00bfbf; }
.aqua-background { background-color: #00fafa; }
.black { color: black; }
.black-background { background-color: black; }
.blue { color: #0000bf; }
.blue-background { background-color: #0000fa; }
.fuchsia { color: #bf00bf; }
.fuchsia-background { background-color: #fa00fa; }
.gray { color: #606060; }
.gray-background { background-color: #7d7d7d; }
.green { color: #006000; }
.green-background { background-color: #007d00; }
.lime { color: #00bf00; }
.lime-background { background-color: #00fa00; }
.maroon { color: #600000; }
.maroon-background { background-color: #7d0000; }
.navy { color: #000060; }
.navy-background { background-color: #00007d; }
.olive { color: #606000; }
.olive-background { background-color: #7d7d00; }
.purple { color: #600060; }
.purple-background { background-color: #7d007d; }
.red { color: #bf0000; }
.red-background { background-color: #fa0000; }
.silver { color: #909090; }
.silver-background { background-color: #bcbcbc; }
.teal { color: #006060; }
.teal-background { background-color: #007d7d; }
.white { color: #bfbfbf; }
.white-background { background-color: #fafafa; }
.yellow { color: #bfbf00; }
.yellow-background { background-color: #fafa00; }
span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }
.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #005498; color: #003f72; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 0; border-radius: 0; }

</style>
<style>
/* Foundation stylesheet for CodeRay (to match GitHub theme) | MIT License | http://foundation.zurb.com */
table.CodeRay { border-collapse: collapse; padding: 2px; margin-bottom: 0; border: 0; background: transparent; }
table.CodeRay td { padding: 0 .5em; vertical-align: top; }
table.CodeRay td.line-numbers { text-align: right; color: #999; border-right: 1px solid #e5e5e5; padding-left: 0; }
span.line-numbers { border-right: 1px solid #E5E5E5; color: #999; display: inline-block; margin-right: 0.5em; padding-right: 0.5em; }
.CodeRay td.line-numbers strong, .CodeRay span.line-numbers strong { font-weight: normal; }
.CodeRay .debug { color: white !important; background: blue !important; }
.CodeRay .annotation { color: #007; }
.CodeRay .attribute-name { color: #f08; }
.CodeRay .attribute-value { color: #700; }
.CodeRay .binary { color: #509; }
.CodeRay .comment  { color: #999; font-style: italic; }
.CodeRay .char { color: #04D; }
.CodeRay .char .content { color: #04D; }
.CodeRay .char .delimiter { color: #039; }
.CodeRay .class { color: #458; }
.CodeRay .complex { color: #A08; }
.CodeRay .constant { color: teal; }
.CodeRay .color { color: #0A0; }
.CodeRay .class-variable { color: #369; }
.CodeRay .decorator { color: #B0B; }
.CodeRay .definition { color: #099; }
.CodeRay .directive { color: #088; }
.CodeRay .delimiter { color: black; }
.CodeRay .doc { color: #970; }
.CodeRay .doctype { color: #34b; }
.CodeRay .doc-string { color: #D42; }
.CodeRay .escape  { color: #666; }
.CodeRay .entity { color: #800; }
.CodeRay .error { color: #808; }
.CodeRay .exception { color: #C00; }
.CodeRay .filename { color: #099; }
.CodeRay .function { color: #900; }
.CodeRay .global-variable { color: teal; }
.CodeRay .hex { color: #058; }
.CodeRay .integer  { color: #099; }
.CodeRay .include { color: #B44; }
.CodeRay .inline { color: black; }
.CodeRay .inline .inline { background: #ccc; }
.CodeRay .inline .inline .inline { background: #bbb; }
.CodeRay .inline .inline-delimiter { color: #D14; }
.CodeRay .inline-delimiter { color: #D14; }
.CodeRay .important { color: #f00; }
.CodeRay .interpreted { color: #B2B; }
.CodeRay .instance-variable { color: teal; }
.CodeRay .label { color: #970; }
.CodeRay .local-variable { color: #963; }
.CodeRay .octal { color: #40E; }
.CodeRay .predefined { color: #369; }
.CodeRay .preprocessor { color: #579; }
.CodeRay .pseudo-class { color: #00C; }
.CodeRay .predefined-type { color: #074; }
.CodeRay .reserved, .keyword  { color: #000; }
.CodeRay .key { color: #808; }
.CodeRay .key .delimiter { color: #606; }
.CodeRay .key .char { color: #80f; }
.CodeRay .value { color: #088; }
.CodeRay .regexp { background-color: #fff0ff; }
.CodeRay .regexp .content { color: #808; }
.CodeRay .regexp .delimiter { color: #404; }
.CodeRay .regexp .modifier { color: #C2C; }
.CodeRay .regexp .function  { color: #404; font-weight: bold; }
.CodeRay .string { color: #D20; }
.CodeRay .string .string { }
.CodeRay .string .string .string { background-color: #ffd0d0; }
.CodeRay .string .content { color: #D14; }
.CodeRay .string .char { color: #D14; }
.CodeRay .string .delimiter { color: #D14; }
.CodeRay .shell { color: #D14; }
.CodeRay .shell .content { }
.CodeRay .shell .delimiter { color: #D14; }
.CodeRay .symbol { color: #990073; }
.CodeRay .symbol .content { color: #A60; }
.CodeRay .symbol .delimiter { color: #630; }
.CodeRay .tag, .CodeRay .attribute-name { color: #070; }
.CodeRay .tag-special { color: #D70; }
.CodeRay .type { color: #339; }
.CodeRay .variable  { color: #036; }
.CodeRay .insert { background: #afa; }
.CodeRay .delete { background: #faa; }
.CodeRay .change { color: #aaf; background: #007; }
.CodeRay .head { color: #f8f; background: #505; }
.CodeRay .insert .insert { color: #080; }
.CodeRay .delete .delete { color: #800; }
.CodeRay .change .change { color: #66f; }
.CodeRay .head .head { color: #f4f; }

</style>
</head>
<body class="article">
<div id="header">
<h1>Problem Set 7: C$50 Finance</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>due <span class="line-through">Thu 11/7</span> Fri 11/8 at noon</em></p>
</div>
<div class="paragraph">
<p><strong>No need to submit any work early (i.e., by Wed) this week in 
order to get an extra day.  Everyone gets an extra day this week; 
everyone’s deadline is Fri 11/8.  No more coupon codes!</strong></p>
</div>
<div class="paragraph">
<p>Questions?  Head to <a href="https://www.cs50.net/discuss">cs50.net/discuss</a> or join classmates at <a href="https://www.cs50.net/ohs">office hours</a>!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_objectives">Objectives</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Introduce you to HTML, CSS, PHP, and SQL.</p>
</li>
<li>
<p>Teach you how to teach yourself new languages.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_recommended_reading">Recommended Reading</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="http://diveintohtml5.info/">http://diveintohtml5.info/</a></p>
</li>
<li>
<p><a href="http://php.net/manual/en/langref.php">http://php.net/manual/en/langref.php</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_academic_honesty">Academic Honesty</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This course’s philosophy on academic honesty is best stated as "be 
reasonable."  The course recognizes that interactions with classmates 
and others can facilitate mastery of the course’s material. However, 
there remains a line between enlisting the help of another and 
submitting the work of another. This policy characterizes both sides of 
that line.</p>
</div>
<div class="paragraph">
<p>The essence of all work that you submit to this course must be your 
own. Collaboration on problem sets is not permitted except to the extent
 that you may ask classmates and others for help so long as that help 
does not reduce to another doing your work for you.  Generally speaking,
 when asking for help, you may show your code to others, but you may not
 view theirs, so long as you and they respect this policy’s other 
constraints.  Collaboration on quizzes is not permitted at all.  
Collaboration on the course’s final project is permitted to the extent 
prescribed by its specification.</p>
</div>
<div class="paragraph">
<p>Below are rules of thumb that (inexhaustively) characterize acts that
 the course considers reasonable and not reasonable.  If in doubt as to 
whether some act is reasonable, do not commit it until you solicit and 
receive approval in writing from the course’s heads.  Acts considered 
not reasonable by the course are handled harshly.  If the course refers 
some matter to the Administrative Board and the outcome is Admonish, 
Probation, Requirement to Withdraw, or Recommendation to Dismiss, the 
course reserves the right to impose local sanctions on top of that 
outcome that may include an unsatisfactory or failing grade for work 
submitted or for the course itself.</p>
</div>
<div class="sect2">
<h3 id="_reasonable">Reasonable</h3>
<div class="ulist">
<ul>
<li>
<p>Communicating with classmates about problem sets' problems in English (or some other spoken language).</p>
</li>
<li>
<p>Discussing the course’s material with others in order to understand it better.</p>
</li>
<li>
<p>Helping a classmate identify a bug in his or her code at Office 
Hours, elsewhere, or even online, as by viewing, compiling, or running 
his or her code, even on your own computer.</p>
</li>
<li>
<p>Incorporating snippets of code that you find online or elsewhere into
 your own code, provided that those snippets are not themselves 
solutions to assigned problems and that you cite the snippets' origins.</p>
</li>
<li>
<p>Reviewing past semesters' quizzes and solutions thereto.</p>
</li>
<li>
<p>Sending or showing code that you’ve written to someone, possibly a 
classmate, so that he or she might help you identify and fix a bug.</p>
</li>
<li>
<p>Sharing snippets of your own code on CS50 Discuss or elsewhere so that others might help you identify and fix a bug.</p>
</li>
<li>
<p>Turning to the web or elsewhere for instruction beyond the course’s 
own, for references, and for solutions to technical difficulties, but 
not for outright solutions to problem set’s problems or your own final 
project.</p>
</li>
<li>
<p>Whiteboarding solutions to problem sets with others using diagrams or pseudocode but not actual code.</p>
</li>
<li>
<p>Working with (and even paying) a tutor to help you with the course, provided the tutor does not do your work for you.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_not_reasonable">Not Reasonable</h3>
<div class="ulist">
<ul>
<li>
<p>Accessing a solution in CS50 Vault to some problem prior to (re-)submitting your own.</p>
</li>
<li>
<p>Asking a classmate to see his or her solution to a problem set’s problem before (re-)submitting your own.</p>
</li>
<li>
<p>Failing to cite (as with comments) the origins of code or techniques 
that you discover outside of the course’s own lessons and integrate into
 your own work, even while respecting this policy’s other constraints.</p>
</li>
<li>
<p>Giving or showing to a classmate your solution to a problem set’s 
problem when it is he or she, and not you, who is struggling to solve 
it.</p>
</li>
<li>
<p>Looking at another individual’s work during a quiz.</p>
</li>
<li>
<p>Paying or offering to pay an individual for work that you may submit as (part of) your own.</p>
</li>
<li>
<p>Providing or making available solutions to problem sets to individuals who might take this course in the future.</p>
</li>
<li>
<p>Redeeming or attempting to redeem someone else’s code for a late day.</p>
</li>
<li>
<p>Searching for, soliciting, or viewing a quiz’s questions or answers prior to taking the quiz.</p>
</li>
<li>
<p>Searching for or soliciting outright solutions to problem sets online or elsewhere.</p>
</li>
<li>
<p>Splitting a problem set’s workload with another individual and combining your work.</p>
</li>
<li>
<p>Submitting (after possibly modifying) the work of another individual beyond allowed snippets.</p>
</li>
<li>
<p>Submitting the same or similar work to this course that you have submitted or will submit to another.</p>
</li>
<li>
<p>Submitting work to this course that you intend to use outside of the 
course (e.g., for a job) without prior approval from the course’s heads.</p>
</li>
<li>
<p>Using resources during a quiz beyond those explicitly allowed in the quiz’s instructions.</p>
</li>
<li>
<p>Viewing another’s solution to a problem set’s problem and basing your own solution on it.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_scores">Scores</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Your work on this problem set will be evaluated along four axes primarily.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Scope</dt>
<dd>
<p>To what extent does your code implement the features required by our specification?</p>
</dd>
<dt class="hdlist1">Correctness</dt>
<dd>
<p>To what extent is your code consistent with our specifications and free of bugs?</p>
</dd>
<dt class="hdlist1">Design</dt>
<dd>
<p>To what extent is your code written well (i.e., clearly, efficiently, elegantly, and/or logically)?</p>
</dd>
<dt class="hdlist1">Style</dt>
<dd>
<p>To what extent is your code readable (i.e., commented and indented with variables aptly named)?</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>All students, whether taking the course SAT/UNS or for a letter 
grade, must ordinarily submit this and all other problem sets to be 
eligible for a satisfactory grade unless granted an exception in writing
 by the course’s heads.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_learning_new_languages">Learning New Languages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Beyond introducing you to web programming, the overarching goal of 
this problem set is to teach you—nay, empower you—to teach yourself new 
languages so that you can stand on your own after term’s end.  We’ll 
guide you through each, but if you nonetheless find yourself Googling 
and asking lots of questions of classmates and staff, rest assured 
you’re doing it right!</p>
</div>
<div class="paragraph">
<p>Incidentally, if you’d like to speed up or slow down any of the videos below using Chrome, join YouTube’s HTML5 trial at <a href="http://www.youtube.com/html5">http://www.youtube.com/html5</a>
 and then re-load this specification.  In the bottom-right corner of 
each video (when hovered upon), you should find a gear icon, via which 
you should be able to choose 2x and more.  And once feeling comfortable,
 you’re welcome to skip over any of those videos altogether.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Let’s first take a look at HTTP (Hypertext Transfer Protocol), the protocol via which you can access the web.</p>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/hU4XuBe50K4.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
<li>
<p>Let’s next take a look at HTML (Hypertext Markup Language) in which web pages are written.  Here’s Daven!</p>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/dM5V1epAbSs.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
<li>
<p>Let’s next take a look at CSS (Cascading Stylesheets) with Joseph.</p>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/kg0ZOmUREwc.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
<li>
<p>So far so good?  Let’s now leverage HTTP, HTML, and CSS to make our 
own search engine.  Well, at least its front end.  Take a peek at <strong>search-0</strong> through <strong>search-4</strong> via the playlist below.  (Click <strong>PLAYLIST</strong> in the player’s top-left corner for a menu as needed.)</p>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/T2Xzu4MVoRQ.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
<li>
<p>You are now a web programmer!  Okay, not quite.  Neither HTML nor CSS
 are programming languages, but PHP is.  Here’s Tommy with a look at 
PHP’s syntax.  You’ll find it’s fairly similar to C’s!</p>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/1YF8yIJE8mM.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
<li>
<p>Alright, let’s now use PHP to make a website with an actual "back 
end", server-side code that responds to submissions of HTML forms.  Take
 a look at <strong>froshims-0</strong> through <strong>froshims-3</strong> via the playlist below.</p>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/-C80Qik9OWw.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
<li>
<p>Now let’s look at a common "design pattern" for websites called MVC 
(Model-View-Controller) that we’ll ultimately use for this problem set. 
 Take a look at <strong>mvc-0</strong> through <strong>mvc-5</strong> via the playlist below.</p>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/3Jy0OIaHviI.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
<li>
<p>Finally, let’s hear about SQL (Structured Query Language).  Here’s Christopher and cupcakes.</p>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/G58ujNjWEJY.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
<li>
<p>Phew, bit of a fire hydrant, no?  Not to worry, some fun and more comfort await!  Let’s get you started.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started">Getting Started</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Start up your appliance and, upon reaching John Harvard’s desktop, open a terminal window (remember how?) and execute</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">update50</code></pre>
</div>
</div>
<div class="paragraph">
<p>to ensure that your appliance is up-to-date!</p>
</div>
</li>
<li>
<p>Like Problem Set 6, this problem set comes with some distribution 
code that you’ll need to download before getting started. Go ahead and 
execute</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">cd ~/vhosts</code></pre>
</div>
</div>
<div class="paragraph">
<p>in order to navigate to your <code>~/vhosts</code> directory.  Then execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">wget http://cdn.cs50.net/2013/fall/psets/7/pset7/pset7.zip</code></pre>
</div>
</div>
<div class="paragraph">
<p>in order to download a ZIP (i.e., compressed version) of this problem set’s distro.  If you then execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">ls</code></pre>
</div>
</div>
<div class="paragraph">
<p>you should see that you now have a file called <code>pset7.zip</code> in your <code>~/vhosts</code> directory.  Unzip it by executing the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">unzip pset7.zip</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you again execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">ls</code></pre>
</div>
</div>
<div class="paragraph">
<p>you should see that you now also have a directory called <code>pset7</code>.  You’re now welcome to delete the ZIP file with the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">rm -f pset7.zip</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you next execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">cd pset7</code></pre>
</div>
</div>
<div class="paragraph">
<p>followed by</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">ls</code></pre>
</div>
</div>
<div class="paragraph">
<p>you should see that <code>pset7</code> contains three subdirectories: <code>includes</code>, <code>public</code>, and <code>templates</code>.  But more on those soon.</p>
</div>
</li>
<li>
<p>Next, ensure a few directories are world-executable by executing</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">chmod a+x ~
chmod a+x ~/vhosts
chmod a+x ~/vhosts/pset7
chmod a+x ~/vhosts/pset7/public</code></pre>
</div>
</div>
<div class="paragraph">
<p>so that the appliance’s web server (and you, from a browser) will be able to access your work.  Then, navigate your way to <code>~/vhosts/pset7/public</code> by executing the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">cd ~/vhosts/pset7/public</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">ls</code></pre>
</div>
</div>
<div class="paragraph">
<p>you should see that <code>public</code> contains four subdirectories and three files.  Ensure that the former are word-executable by executing the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">chmod a+x css fonts img js</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, ensure that the files within those directories are world-readable by executing the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">chmod a+r css/* fonts/* img/* js/*</code></pre>
</div>
</div>
<div class="paragraph">
<p>If unfamiliar, <code>*</code> is a "wildcard character," so <code>css/*</code>, for instance, simply means "all files within the <code>css</code> directory."</p>
</div>
<div class="paragraph">
<p>For security’s sake, don’t make <code>~/vhosts/pset7/includes</code> or <code>~/vhosts/pset7/templates</code>
 world-executable (or their contents world-readable), as they shouldn’t 
be accessible to the whole world (only to your PHP code, as you’ll soon 
see).</p>
</div>
</li>
<li>
<p>Even though your code for this problem set will live in <code>~/vhosts/pset7</code>,
 let’s ensure that it’s nonetheless backed up via Dropbox, assuming you 
set up Dropbox inside of the appliance.  In a terminal window, execute</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">ln -s ~/vhosts/pset7 ~/Dropbox</code></pre>
</div>
</div>
<div class="paragraph">
<p>in order to create a "symbolic link" (i.e., alias or shortcut) to your <code>~/vhosts/pset7</code> directory within your <code>~/Dropbox</code> directory so that Dropbox knows to start backing it up.</p>
</div>
</li>
<li>
<p>So why did we put <code>pset7</code> inside of a directory called <code>vhosts</code>?
  Well, the appliance is configured to serve "virtual hosts" (i.e., 
websites) out of the latter.  Specifically, if you visit, say, <a href="http://pset7/">http://pset7/</a> <u>using Chrome inside of the appliance</u>, the appliance is configured to look in <code>~/vhosts/pset7/public</code> for that website’s web-accessible files.  But for that to work, we also need to associate the appliance’s own IP address with <code>pset7</code> so that it "resolves" via DNS to it.  Rather than set up a whole DNS server to do that, we can actually edit a file called <code>hosts</code> in a directory called <code>etc</code>.  Let’s do that.</p>
<div class="paragraph">
<p>In a terminal window, execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">sudo gedit /etc/hosts</code></pre>
</div>
</div>
<div class="paragraph">
<p>in order to run <code>gedit</code> as the appliance’s "superuser" 
(aka "root") so that you can edit what’s otherwise a read-only file.  
Carefully add this line at the bottom of that file, which will associate
 <code>pset7</code> with the appliance’s "loopback" address (which won’t ever change):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="text language-text">127.0.0.1 pset7</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then save the file and quit <code>gedit</code>.  Then enjoy <a href="http://xkcd.com/149/">http://xkcd.com/149/</a>.</p>
</div>
<div class="paragraph">
<p>If you encounter a <strong>Gtk-WARNING</strong> with <code>gedit</code>, try restarting the appliance, as via <strong>Menu &gt; Log Out &gt; Restart</strong> (or via VMware’s own <strong>Restart</strong> option), then try again; the warning appears to be a bug in Fedora (the appliance’s operating system).</p>
</div>
</li>
<li>
<p>Alright, time for a test!  Open up Chrome inside of the appliance and visit <a href="http://pset7/">http://pset7/</a>.</p>
<div class="paragraph">
<p>You should find yourself redirected to C$50 Finance!  (If you instead
 see Forbidden, odds are you missed a step earlier; best to try all 
those chmod steps again.)  If you try logging into C$50 Finance with a 
username of, oh, <strong>skroob</strong> and a password of <strong>12345</strong>, you should encounter an error about an <strong>Unknown database</strong>.  That’s simply because you haven’t created it yet!  Let’s create it.</p>
</div>
<div class="paragraph">
<p>Head to <a href="http://pset7/phpMyAdmin">http://pset7/phpMyAdmin</a> using Chrome <u>inside of the appliance</u>
 to access phpMyAdmin, a Web-based tool (that happens to be written in 
PHP) with which you can manage MySQL databases.  (MySQL is a free, 
open-source database that CS50, Facebook, and lots of other sites use.) 
 Log in as John Harvard if prompted (with a username of <strong>jharvard</strong> and a password of <strong>crimson</strong>).  You should then find yourself at phpMyAdmin’s main page.  In phpMyAdmin’s top-left corner, you should see <strong>No databases</strong>.  Normally, you can create a database by clicking phpMyAdmin’s <strong>Databases</strong> tab, but you can also execute some SQL commands manually.</p>
</div>
<div class="paragraph">
<p>Go ahead and visit <a href="http://cdn.cs50.net/2013/fall/psets/7/pset7/pset7.sql">http://cdn.cs50.net/2013/fall/psets/7/pset7/pset7.sql</a> using Chrome <u>inside of the appliance</u>, and then open the file in <code>gedit</code>, as by clicking its name in Chrome’s bottom-left corner or by selecting <strong>File &gt; Open…</strong> in <code>gedit</code> and then navigating your way to <strong>Downloads</strong>.  You should ultimately see a whole bunch of SQL (i.e., database queries) within <code>pset7.sql</code>.  Highlight it all, then select <strong>Edit &gt; Copy</strong> (or hit ctrl-c), then return to phpMyAdmin.  Click phpMyAdmin’s <strong>SQL</strong>
 tab, and paste everything you copied into that page’s big text box.  
Skim what you just pasted to get a sense of the commands you’re about to
 execute, then click <strong>Go</strong>.  You should then see a green banner, proclaiming <strong>Your SQL query has been executed successfully</strong>.  In phpMyAdmin’s top-left corner, you should now see link to a database called <strong>pset7</strong>, beneath which is a link to a table called <strong>users</strong>.  But more on those later.</p>
</div>
<div class="paragraph">
<p>Return to <a href="http://pset7/">http://pset7/</a> using Chrome <u>inside of the appliance</u> and reload that page.  Then try to log in with a username of <strong>skroob</strong> and a password of <strong>12345</strong>.  This time, you should see some construction.</p>
</div>
</li>
<li>
<p>Okay, time for a heads-up.  Anytime you create a new file or directory in <code>~/vhosts/pset7</code> or some subdirectory therein for this problem set, you’ll want to set its permissions with <code>chmod</code>.  Thus far, we’ve relied on <code>a+r</code> and <code>a+x</code>, but let’s empower you with more precise control over permissions.</p>
<div class="paragraph">
<p>Henceforth, for any PHP file, file, that you create, execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">chmod 600 file</code></pre>
</div>
</div>
<div class="paragraph">
<p>so that it’s accessible only by you (and the appliance’s webserver). 
 After all, we don’t want visitors to see the contents of PHP files; 
rather, we want them to see the output of PHP files once executed (or, 
rather, interpreted) by the appliance’s web server.</p>
</div>
<div class="paragraph">
<p>For any non-PHP file, file, that you create (or upload), execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">chmod 644 file</code></pre>
</div>
</div>
<div class="paragraph">
<p>so that it’s accessible via a browser (if that’s indeed your intention).</p>
</div>
<div class="paragraph">
<p>And for any directory, directory, that you create, execute</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">chmod 711 directory</code></pre>
</div>
</div>
<div class="paragraph">
<p>so that its contents are accessible via a browser (if that’s indeed your intention).</p>
</div>
<div class="paragraph">
<p>What’s with all these numbers we’re having you type?  Well, <code>600</code> happens to mean <code>rw-------</code>, and so all PHP files are made readable and writable only by you; <code>644</code> happens to mean <code>rw-r--r--</code>, and so all non-PHP files are to be readable and writable by you and just readable by everyone else; and <code>711</code> happens to mean <code>rwx--x--x</code>,
 and so all directories are to be readable, writable, and executable by 
you and just executable by everyone else.  Wait a minute, don’t we want 
everyone to be able to read (i.e., interpret) your PHP files?  Nope!  
For security reasons, PHP-based web pages are interpreted "as you" 
(i.e., under John Harvard’s username) in the appliance.  For the 
curious, we’re using <a href="http://www.suphp.org/">suPHP</a> with <a href="http://httpd.apache.org/">Apache</a>.</p>
</div>
<div class="paragraph">
<p>Okay, still, what’s with all those numbers?  Well, think of <code>rw-r--r--</code> as representing three triples of bits, the first triple of which, to be clear, is <code>rw-</code>.  Imagine that <code>-</code> represents <code>0</code>, whereas <code>r</code>, <code>w</code>, and <code>x</code> represent <code>1</code>.  And, so, this same triple (<code>rw-</code>) is just <code>110</code> in binary, or <code>6</code> in decimal!  The other two triples, <code>r--</code> and <code>r--</code>, then, are just <code>100</code> and <code>100</code> in binary, or <code>4</code> and <code>4</code> in decimal!  How, then, to express a pattern like <code>rw-r--r--</code> with numbers?  Why, with <code>644</code>.</p>
</div>
<div class="paragraph">
<p>Actually, this is a bit of a white lie.  Because you can represent only eight possible values with three bits, these numbers (<code>6</code>, <code>4</code>, and <code>4</code>)
 are not actually decimal digits but "octal."  So you can now tell your 
friends that you speak not only binary, decimal, and hexadecimal, but 
octal as well.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_yahoo">Yahoo!</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>If you’re not quite sure what it means to buy and sell stocks (i.e., shares of a company), surf on over to <a href="http://www.investopedia.com/university/stocks/">http://www.investopedia.com/university/stocks/</a> for a tutorial.</p>
<div class="paragraph">
<p>You’re about to implement C$50 Finance, a Web-based tool with which 
you can manage portfolios of stocks.  Not only will this tool allow you 
to check real stocks' actual prices and portfolios' values, it will also
 let you buy (okay, "buy") and sell (fine, "sell") stocks!  (Per Yahoo’s
 fine print, "Quotes delayed [by a few minutes], except where indicated 
otherwise.")</p>
</div>
</li>
<li>
<p>Just the other day, I received the stock tip below in my inbox!</p>
<div class="paragraph">
<p><strong>"Discovery Ventures Signs Letter Of Intent To Acquire The Willa Gold Deposit"</strong></p>
</div>
<div class="paragraph">
<p>Let’s get in on this opportunity now.  Head on over to Yahoo! Finance at <a href="http://finance.yahoo.com/">http://finance.yahoo.com/</a>.  Type the symbol for Discovery Ventures, <strong>DVN.V</strong>, into the text field in that page’s top-left corner and click <strong>Get Quotes</strong>.  Odds are you’ll see a table like the below, which no one has apparently yet Liked!</p>
</div>
<div class="imageblock">
<div class="content">
<img src="Problem%20Set%207:%20C$50%20Finance_files/dvn.png" alt="Discovery Ventures">
</div>
</div>
<div class="paragraph">
<p>Wow, only 22.5 cents per share!  That must be a good thing.  Anyhow, 
notice how Yahoo reports a stock’s most recent (i.e., "Last Trade") 
price ($0.27) and more.  Moreover, scroll down to the page’s bottom, and
 you should see a toolbox like the below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="Problem%20Set%207:%20C$50%20Finance_files/toolbox.png" alt="Toolbox">
</div>
</div>
<div class="paragraph">
<p>Looks like Yahoo lets you download all that data.  Go ahead and click <strong>Download Data</strong> to download a file in CSV format (i.e., as comma-separated values).  Open the file in Excel or any text editor (e.g., <code>gedit</code>),
 and you should see a "row" of values, all excerpted from that table.  
It turns out that the link you just clicked led to the URL below.</p>
</div>
<div class="paragraph">
<p><a href="http://download.finance.yahoo.com/d/quotes.csv?s=DVN.V&amp;f=sl1d1t1c1ohgv&amp;e=.csv">http://download.finance.yahoo.com/d/quotes.csv?s=DVN.V&amp;f=sl1d1t1c1ohgv&amp;e=.csv</a></p>
</div>
<div class="paragraph">
<p>Notice how Discovery Ventures' symbol is embedded in this URL (as the value of the HTTP parameter called <code>s</code>); that’s how Yahoo knows whose data to return.  Notice also the value of the HTTP parameter called <code>f</code>;
 it’s a bit cryptic (and officially undocumented), but the value of that
 parameter tells Yahoo which fields of data to return to you.  If 
curious as to what they mean, head to <a href="http://www.gummy-stuff.org/Yahoo-data.htm">http://www.gummy-stuff.org/Yahoo-data.htm</a>.</p>
</div>
<div class="paragraph">
<p>It’s worth noting that a lot of websites that integrate data from 
other websites do so via "screen scraping," a process that requires 
writing programs that parse (or, really, search) HTML for data of 
interest (e.g., air fares, stock prices, etc.).  Writing a screen 
scraper for a site tends to be a nightmare, though, because a site’s 
markup is often a mess, and if the site changes the format of its pages 
overnight, you need to re-write your scraper.  (See <a href="https://manual.cs50.net/scraping/">https://manual.cs50.net/scraping/</a> if curious as to how it can be done nonetheless.)</p>
</div>
<div class="paragraph">
<p>Thankfully, because Yahoo provides data in CSV, C$50 Finance will 
avoid screen scraping altogether by downloading (effectively pretending 
to be a browser) and parsing CSV files instead.  Even more thankfully, 
we’ve written that code for you!</p>
</div>
<div class="paragraph">
<p>In fact, let’s turn our attention to the code you’ve been given.</p>
</div>
</li>
<li>
<p>Navigate your way to <code>~/vhosts/pset7/public</code> and open up <code>index.php</code> with <code>gedit</code>.  (Remember how?)  Know that <code>index.php</code> is the file that’s loaded by default when you visit a URL like <a href="http://pset7/">http://pset7/</a>.  Well, it turns out there’s not much PHP code in this file.  And there isn’t any HTML at all.  Rather, <code>index.php</code> "requires" <code>config.php</code> (which is in a directory called <code>includes</code> in <code>index.php</code>'s parent directory).  And <code>index.php</code> then calls <code>render</code> (a function implemented in a file called <code>functions.php</code> that can also be found inside of <code>includes</code>) in order to render (i.e., output) a template called <code>portfolio.php</code> (which is in a directory called <code>templates</code> in <code>index.php</code>'s parent directory).  Phew, that was a mouthful.</p>
<div class="paragraph">
<p>It turns out that <code>index.php</code> is considered a "controller," whereby its purpose in life is to control the behavior of your website when a user visits <a href="http://pset7/">http://pset7/</a> (or, equivalently, <a href="http://pset7/index.php%29">http://pset7/index.php)</a>.
  Eventually, you’ll need to add some more PHP code to this file in 
order to pass more than just title to render.  But for now, let’s take a
 look at <code>portfolio.php</code>, the template that this controller ultimately renders.</p>
</div>
<div class="paragraph">
<p>Navigate your way to <code>~/vhosts/pset7/templates</code> and open up <code>portfolio.php</code> with <code>gedit</code>.
  Ah, there’s some HTML.  Of course, it’s not very interesting HTML, but
 it does explain why your website is "under construction," thanks to the
 GIF referenced therein.</p>
</div>
<div class="paragraph">
<p>Now navigate your way to <code>~/vhosts/pset7/includes</code> and open up <code>config.php</code> with <code>gedit</code>.  Recall that <code>config.php</code> was required by <code>index.php</code>.  Notice how <code>config.php</code>
 first enables display of all errors (and warnings and notices, which 
are less severe errors) so that you’re aware of any syntactical mistakes
 (and more) in your code.  Notice, too, that <code>config.php</code> itself requires two other files: <code>constants.php</code> and <code>functions.php</code>.  Next, <code>config.php</code> calls <code>session_start</code> in order to enable <code>$_SESSION</code>,
 a "superglobal" variable via which we’ll remember that a user is logged
 in.   (Even though HTTP is a "stateless" protocol, whereby browsers are
 supposed to disconnect from servers as soon as they’re done downloading
 pages, "cookies" allow browsers to remind servers who they or, really, 
you are on subsequent requests for content.  PHP uses "session cookies" 
to provide you with <code>$_SESSION</code>, an associative array in 
which you can store any data to which you’d like to have access for the 
duration of some user’s visit.  The moment a user ends his or her 
"session" (i.e., visit) by quitting his or her browser, the contents of <code>$_SESSION</code>
 are lost for that user specifically because the next time that user 
visits, he or she will be assigned a new cookie!)  Meanwhile, <code>config.php</code> uses a "regular expression" (via a call to <code>preg_match</code>) to redirect the users to <code>login.php</code> anytime they visit some page other than <code>login.php</code>, <code>logout.php</code>, and <code>register.php</code>, assuming <code>$_SESSION["id"]</code>
 isn’t yet set.  In other words, that block of code requires users to 
log in if they aren’t logged in already (and if they aren’t already at 
one of those three pages).</p>
</div>
<div class="paragraph">
<p>Okay, now open up <code>functions.php</code> with <code>gedit</code>.  Interesting, it looks like <code>functions.php</code> requires <code>constants.php</code>.  More on that file, though, in a moment.   It looks like <code>functions.php</code> also defines a bunch of functions, the first of which is <code>apologize</code>, which you can call anytime you need to apologize to the user (because they made some mistake).  Defined next is <code>dump</code>,
 which you’re welcome to call anytime you want to see the contents 
(perhaps recursively) of some variable while developing your site.  That
 function is only for diagnostic purposes, though.  Be sure to remove 
all calls thereto before submitting your work.  Next in the file is <code>logout</code>, a function that logs users out by destroying their sessions.  Thereafter is <code>lookup</code>, a function that queries Yahoo Finance for stocks' prices and more.  More on that, though, in a bit.  Up next is <code>query</code>, a function that executes a SQL query and then returns the result set’s rows, if any.  Below it is <code>redirect</code>, a function that allows you to redirect users from one URL to another.  Last in the file is <code>render</code>, the function that <code>index.php</code> called in order to render <code>portfolio.php</code>.  The function then "extracts" those values into the local scope (whereby a key of <code>"foo"</code> with a value of <code>"bar"</code> in <code>$values</code> becomes a local variable called <code>$foo</code> with a value of <code>"bar"</code>).  And it then requires <code>header.php</code> followed by <code>$template</code> followed by <code>footer.php</code>, effectively outputting all three.</p>
</div>
<div class="paragraph">
<p>In fact, navigate your way back to <code>~/vhosts/pset7/templates</code> and open up <code>header.php</code> and <code>footer.php</code> in <code>gedit</code>.
  Ah, even more HTML!  Thanks to render, those files' contents will be 
included at the top and bottom, respectively, of each of your pages.  As
 a result, each of your pages will have access to <a href="http://getbootstrap.com/">Twitter’s Bootstrap library</a>, per the link and script tags therein.   And each page will have at least four <code>div</code> elements, three of which have unique IDs (<code>top</code>, <code>middle</code>, and <code>bottom</code>), if only to make styling them with CSS easier.  Even more interestingly, though, notice how <code>header.php</code> conditionally outputs <code>$title</code>, if it is set.  Remember how <code>index.php</code> contained the below line of code?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="php language-php">render(<span class="string"><span class="delimiter">"</span><span class="content">portfolio.php</span><span class="delimiter">"</span></span>, [<span class="string"><span class="delimiter">"</span><span class="content">title</span><span class="delimiter">"</span></span> =&gt; <span class="string"><span class="delimiter">"</span><span class="content">Portfolio</span><span class="delimiter">"</span></span>]);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Well, because <code>render</code> calls <code>extract</code> on that second argument, an array, before requiring <code>header.php</code>, <code>header.php</code> ends up having access to a variable called <code>$title</code>.
  Neat, eh?  You can pass even more values into a template simply by 
separating such key/value pairs with a comma, as in the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="php language-php">render(<span class="string"><span class="delimiter">"</span><span class="content">portfolio.php</span><span class="delimiter">"</span></span>, [<span class="string"><span class="delimiter">"</span><span class="content">cash</span><span class="delimiter">"</span></span> =&gt; <span class="float">10000.00</span>, <span class="string"><span class="delimiter">"</span><span class="content">title</span><span class="delimiter">"</span></span> =&gt; <span class="string"><span class="delimiter">"</span><span class="content">Portfolio</span><span class="delimiter">"</span></span>]);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Okay, now open up <code>constants.php</code> in <code>~/vhosts/pset7/includes</code> (which, recall, <code>config.php</code> required).  Suffice it to say, this file defines a bunch of constants, but you shouldn’t need to change any of them.</p>
</div>
<div class="paragraph">
<p>Navigate your way back to <code>~/vhosts/pset7/public</code> and open up <code>login.php</code>, another controller, with <code>gedit</code>.  This controller’s a bit more involved than <code>index.php</code>
 as it handles the authentication of users.  Read through its lines 
carefully, taking note of how it how it queries the appliance’s MySQL 
database using that <code>query</code> function from <code>functions.php</code>.  That function (which we wrote) essentially simplifies use of <a href="http://www.php.net/manual/en/class.pdo.php">PDO</a> (PHP Data Objects), a library with which you can query MySQL (and other) databases.   Per its definition in <code>functions.php</code>,
 the function accepts one or more arguments: a string of SQL followed by
 a comma-separated list of zero or more parameters that can be plugged 
into that string, not unlike <code>printf</code>.  Whereas <code>printf</code> uses <code>%d</code>, <code>%s</code>, and the like for placeholders, though, <code>query</code> simply relies on question marks, no matter the type of value.  And so the effect of</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="php language-php">query(<span class="string"><span class="delimiter">"</span><span class="content">SELECT * FROM users WHERE username = ?</span><span class="delimiter">"</span></span>, <span class="predefined">$_POST</span>[<span class="string"><span class="delimiter">"</span><span class="content">username</span><span class="delimiter">"</span></span>]);</code></pre>
</div>
</div>
<div class="paragraph">
<p>in <code>login.php</code> is to replace <code>?</code> with whatever 
username has been submitted (via POST) via an HTML form.  (The function 
also ensures that any such placeholders' values are properly escaped so 
that your code is not vulnerable to "SQL injection attacks.")  For 
instance, suppose that President Skroob tries to log into C$50 Finance 
by inputting his username and password.  That line of code will 
ultimately execute the SQL statement below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">SELECT</span> * <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username=<span class="string"><span class="delimiter">'</span><span class="content">skroob</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Beware, though.  PHP is weakly (i.e., loosely) typed, and so 
functions like query can actually return different types.  Indeed, even 
though query usually returns an array of rows (thanks to its invocation 
of PDO’s <code>fetchAll</code>), it can also return <code>false</code> in case of errors.  But, unlike <code>SELECT</code>s, some SQL queries (e.g., <code>DELETE</code>s, <code>UPDATE</code>s, and <code>INSERT</code>s) don’t actually return rows, and so the array that <code>query</code> returns might sometimes be empty.  When checking the return value of <code>query</code> for <code>false</code>, then, take care not to use <code>==</code>, because it turns out than an empty array is <code>==</code> to <code>false</code> because of implicit casting.  But an empty array does not necessarily signify an error, only <code>false</code> does!  Use, then, PHP’s <code>===</code> (or <code>!==</code>) operator when checking return values for <code>false</code>, which compares its operands' values and types (not just their values), as in the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="php language-php"><span class="local-variable">$result</span> = query(<span class="string"><span class="delimiter">"</span><span class="content">INSERT INTO users (username, hash, cash) VALUES(?, ?, 10000.00)</span><span class="delimiter">"</span></span>, <span class="predefined">$_POST</span>[<span class="string"><span class="delimiter">"</span><span class="content">username</span><span class="delimiter">"</span></span>], <span class="predefined">crypt</span>(<span class="predefined">$_POST</span>[<span class="string"><span class="delimiter">"</span><span class="content">password</span><span class="delimiter">"</span></span>]));
<span class="keyword">if</span> (<span class="local-variable">$result</span> === <span class="predefined-constant">false</span>)
{
    <span class="comment">// the INSERT failed, presumably because username already existed</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="http://php.net/manual/en/language.operators.comparison.php">http://php.net/manual/en/language.operators.comparison.php</a> for more details.</p>
</div>
<div class="paragraph">
<p>Anyhow, notice too that <code>login.php</code> "remembers" that a user is logged in by storing his or her unique ID inside of <code>$_SESSION</code>.  As before, this controller does not contain any HTML.  Rather, it calls <code>apologize</code> or renders <code>login_form.php</code> as needed.  In fact, open up <code>login_form.php</code> in <code>~/vhosts/pset7/templates</code> with <code>gedit</code>.  Most of that file is HTML that’s stylized via some of Bootstrap’s CSS classes, but notice how the HTML form therein POSTs to <code>login.php</code>.  Just for good measure, take a peek at <code>apology.php</code> while you’re in that directory as well.  And also take a peek at <code>logout.php</code> back in <code>~/vhosts/pset7/public</code> to see how it logs out a user.</p>
</div>
<div class="paragraph">
<p>Alright, now navigate your way to <code>~/vhosts/pset7/public/css</code> and open up <code>styles.css</code> with <code>gedit</code>.
  Notice how this file already has a few "selectors" so that you don’t 
have to include style attributes the elements matched by those 
selectors.  No need to master CSS for this problem set, but do know that
 you should not have more than one <code>div</code> element per page whose <code>id</code> attribute has a value of <code>top</code>, more than one <code>div</code> element per page whose <code>id</code> attribute has a value of <code>middle</code>, or more than one <code>div</code> element per page whose <code>id</code> attribute has a value of <code>bottom</code>; an <code>id</code> must be unique.  In any case, you are welcome to modify <code>styles.css</code> as you see fit.</p>
</div>
<div class="paragraph">
<p>You’re also welcome to poke around <code>~/vhosts/pset7/public/js</code>,
 which contains some JavaScript files.  But no need to use or write any 
JavaScript for this problem set.  Those files are just there in case 
you’d like to experiment.</p>
</div>
<div class="paragraph">
<p>Phew, that was a lot.  Help yourself to a snack.</p>
</div>
</li>
<li>
<p>Alright, let’s talk about that database we keep mentioning.  So that 
you have someplace to store users' portfolios, the appliance comes with a
 MySQL database (called <code>pset7</code>). We’ve even pre-populated it with a table called <code>users</code> (which is why you were able to log in as President Skroob).  Let’s take a look.</p>
<div class="paragraph">
<p>Head back to <a href="http://pset7/phpMyAdmin/">http://pset7/phpMyAdmin/</a> using Chrome <u>inside of the appliance</u> to access phpMyAdmin.  Log in as John Harvard if prompted (with a username of <strong>jharvard</strong> and a password of <strong>crimson</strong>).  You should then find yourself at phpMyAdmin’s main page, in the top-left corner of which is that table called <strong>users</strong>.
  Click the name of that table to see its contents.  Ah, some familiar 
folks.  In fact, there’s President Skroob’s username and a hash of his 
password (which is the same as the combination to his luggage)!</p>
</div>
<div class="paragraph">
<p>Now click the tab labeled <strong>Structure</strong>.  Ah, some familiar fields.  Recall that <code>login.php</code> generates queries like the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">SELECT</span> id <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username=<span class="string"><span class="delimiter">'</span><span class="content">skroob</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As phpMyAdmin makes clear, this table called users contains three fields: <code>id</code> (the type of which is an <code>INT</code> that’s <code>UNSIGNED</code>) along with <code>username</code> and <code>hash</code> (each of whose types is <code>VARCHAR</code>).  It appears that none of these fields is allowed to be <code>NULL</code>, and the maximum length for each of each of <code>username</code> and <code>hash</code> is <code>255</code>.  A neat feature of <code>id</code>, meanwhile, is that it will <code>AUTO_INCREMENT</code>: when inserting a new user into the table, you needn’t specify a value for <code>id</code>; the user will be assigned the next available <code>INT</code>.  Finally, if you click <strong>Indexes</strong> (above <strong>Information</strong>), you’ll see that this table’s <code>PRIMARY</code> key is <code>id</code>,
 the implication of which is that (as expected) no two users can share 
the same user ID.  Recall that a primary key is a field with no 
duplicates (i.e., that is guaranteed to identify rows uniquely).  Of 
course, <code>username</code> should also be unique across users, and so we have also defined it to be so (per the additional <strong>Yes</strong> under <strong>Unique</strong>).
  To be sure, we could have defined username as this table’s primary 
key.  But, for efficiency’s sake, the more conventional approach is to 
use an <code>INT</code> like <code>id</code>.  Incidentally, these 
fields are called "indexes" because, for primary keys and otherwise 
unique fields, databases tend to build "indexes," data structures that 
enable them to find rows quickly by way of those fields.</p>
</div>
<div class="paragraph">
<p>Make sense?</p>
</div>
</li>
<li>
<p>Okay, let’s give each of your users some cash.  Assuming you’re still on phpMyAdmin’s <strong>Structure</strong> tab, you should see a form with which you can add new columns.  Click the radio button immediately to the left of <strong>After</strong>, select <strong>hash</strong> from the drop-down menu, as in the below, then click <strong>Go</strong>.</p>
<div class="imageblock">
<div class="content">
<img src="Problem%20Set%207:%20C$50%20Finance_files/add.png" alt="Add">
</div>
</div>
<div class="paragraph">
<p>Via the form that appears, define a field called cash of type <code>DECIMAL</code> with a length of <code>65,4</code>, with a default value of <code>0.0000</code>, and with an attribute of <code>UNSIGNED</code>, as in the below, then click <strong>Save</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="Problem%20Set%207:%20C$50%20Finance_files/save.png" alt="Save">
</div>
</div>
<div class="paragraph">
<p>If you pull up the documentation for MySQL at <a href="http://dev.mysql.com/doc/refman/5.6/en/numeric-types.html">http://dev.mysql.com/doc/refman/5.6/en/numeric-types.html</a>, you’ll see that the <code>DECIMAL</code> data type is used to "store exact numeric data values."  A length of <code>65,4</code> for a <code>DECIMAL</code> means that values for <code>cash</code>
 can have no more than 65 digits in total, 4 of which can be to the 
right of the decimal point.  (Ooo, fractions of pennies.  Sounds like <strong>Office Space</strong>.)</p>
</div>
<div class="paragraph">
<p>Okay, return to the tab labeled <strong>Browse</strong> and give everyone $10,000.00 manually.  (In theory, we could have defined <code>cash</code> as having a default value of <code>10000.000</code>,
 but, in general, best to put such settings in code, not your database, 
so that they’re easier to change.)  The easiest way is to click <strong>Check All</strong>, then click <strong>Change</strong> to the right of the pencil icon.  On the page that appears, change <code>0.0000</code> to <code>10000.0000</code> for each of your users, then click <strong>Go</strong>.  Won’t they be happy!</p>
</div>
</li>
<li>
<p>It’s now time to code!  Let’s empower new users to register.</p>
<div class="paragraph">
<p>Return to a terminal window, navigate your way to <code>~/vhosts/pset7/templates</code>
 and execute the below.  (You are welcome, particularly if among those 
more comfortable, to stray from these filename conventions and structure
 your site as you see fit, so long as your implementation adheres to all
 other requirements.)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">cp login_form.php register_form.php</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then open up <code>register_form.php</code> with <code>gedit</code> and change the value of form’s <code>action</code> attribute from <code>login.php</code> to <code>register.php</code>.  Next add an additional field of type <code>password</code> to the HTML form called <code>confirmation</code>
 so that users are prompted to input their choice of passwords twice (to
 discourage mistakes).  Finally, change the button’s text from <code>Log In</code> to <code>Register</code> and change</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="html language-html">or <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">"</span><span class="content">register.php</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>register<span class="tag">&lt;/a&gt;</span> for an account</code></pre>
</div>
</div>
<div class="paragraph">
<p>to</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="html language-html">or <span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">"</span><span class="content">login.php</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>log in<span class="tag">&lt;/a&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>so that users can navigate away from this page if they already have accounts.</p>
</div>
<div class="paragraph">
<p>Then, using <code>gedit</code>, create a new file called <code>register.php</code> with the contents below, taking care to save it in <code>~/vhosts/pset7/public</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="php language-php"><span class="inline-delimiter">&lt;?php</span>

    <span class="comment">// configuration</span>
    <span class="predefined">require</span>(<span class="string"><span class="delimiter">"</span><span class="content">../includes/config.php</span><span class="delimiter">"</span></span>);

    <span class="comment">// if form was submitted</span>
    <span class="keyword">if</span> (<span class="predefined">$_SERVER</span>[<span class="string"><span class="delimiter">"</span><span class="content">REQUEST_METHOD</span><span class="delimiter">"</span></span>] == <span class="string"><span class="delimiter">"</span><span class="content">POST</span><span class="delimiter">"</span></span>)
    {
        <span class="comment">// TODO</span>
    }
    <span class="keyword">else</span>
    {
        <span class="comment">// else render form</span>
        render(<span class="string"><span class="delimiter">"</span><span class="content">register_form.php</span><span class="delimiter">"</span></span>, [<span class="string"><span class="delimiter">"</span><span class="content">title</span><span class="delimiter">"</span></span> =&gt; <span class="string"><span class="delimiter">"</span><span class="content">Register</span><span class="delimiter">"</span></span>]);
    }

<span class="inline-delimiter">?&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Alright, let’s take a look at your work!  Bring up <a href="http://pset7/login.php">http://pset7/login.php</a> in Chrome <u>inside of the appliance</u> and click that page’s link to <code>register.php</code>.  You should then find yourself at <a href="http://pset7/register.php">http://pset7/register.php</a>.  If anything appears awry, feel free to make tweaks to <code>register_form.php</code> or <code>register.php</code>.  Just be sure to save your changes and then reload the page in the browser.</p>
</div>
<div class="paragraph">
<p>Of course, <code>register.php</code> doesn’t actually register users yet, so it’s time to tackle that <code>TODO</code>!   Allow us to offer some hints.</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>If <code>$_POST["username"]</code> or <code>$_POST["password"]</code> is empty or if <code>$_POST["password"]</code> does not equal <code>$_POST["confirmation"]</code>, you’ll want to inform registrants of their error.</p>
</li>
<li>
<p>To insert a new user into your database, you might want to call</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql">query(<span class="string"><span class="delimiter">"</span><span class="content">INSERT INTO users (username, hash, cash) VALUES(?, ?, 10000.00)</span><span class="delimiter">"</span></span>, <span class="error">$</span>_POST[<span class="string"><span class="delimiter">"</span><span class="content">username</span><span class="delimiter">"</span></span>], crypt(<span class="error">$</span>_POST[<span class="string"><span class="delimiter">"</span><span class="content">password</span><span class="delimiter">"</span></span>]));</code></pre>
</div>
</div>
<div class="paragraph">
<p>though we leave it to you to decide how much cash your code should give to new users.</p>
</div>
</li>
<li>
<p>Know that <code>query</code> will return <code>false</code> if your <code>INSERT</code> fails (as can happen if, say, <code>username</code> already exists).  Be sure to check for false with <code>===</code> and not <code>==</code>.</p>
</li>
<li>
<p>If, though, your <code>INSERT</code> succeeds, know that you can find out which <code>id</code> was assigned to that user with code like the below.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="php language-php"><span class="local-variable">$rows</span> = query(<span class="string"><span class="delimiter">"</span><span class="content">SELECT LAST_INSERT_ID() AS id</span><span class="delimiter">"</span></span>);
<span class="local-variable">$id</span> = <span class="local-variable">$rows</span>[<span class="integer">0</span>][<span class="string"><span class="delimiter">"</span><span class="content">id</span><span class="delimiter">"</span></span>];</code></pre>
</div>
</div>
</li>
<li>
<p>If registration succeeds, you might as well log the new user in (as by "remembering" that <code>id</code> in <code>$_SESSION</code>), thereafter redirecting to <code>index.php</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Here’s Zamyla with some additional hints:</p>
</div>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/-b274yKl-4w.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
<li>
<p>All done with <code>register.php</code>?  Ready to test?  Head back to <a href="http://pset7/register.php">http://pset7/register.php</a> using Chrome <u>inside of the appliance</u> and try to register a new username.  If you reach <code>index.php</code>, odds are you done good!  Confirm as much by returning to phpMyAdmin, clicking once more that tab labeled <strong>Browse</strong> for the table called <code>users</code>.  May that you see your new user.  If not, it’s time to debug!</p>
<div class="paragraph">
<p>Be sure, incidentally, that any HTML generated by <code>register.php</code> is valid, as by ctrl- or right-clicking on the page in Chrome, selecting <strong>View Page Source</strong>, highlighting and copying the source code, and then pasting it into the W3C’s validator at <a href="http://validator.w3.org/#validate_by_input">http://validator.w3.org/#validate_by_input</a> and then clicking <strong>Check</strong>.   Ultimately, the <strong>Result</strong> of checking your page for validity via the W3C’s validator should be <strong>Passed</strong> or <strong>Tentatively passed</strong>,
 in which case you should see a friendly green banner.  Warnings are 
okay.  Errors (and big red banners) are not.  Note that you won’t be 
able to "validate by URI" at <a href="http://validator.w3.org/#validate_by_uri">http://validator.w3.org/#validate_by_uri</a>, since your appliance isn’t accessible on the public Internet!</p>
</div>
</li>
<li>
<p>Do bear in mind as you proceed further that you are welcome to play 
with and learn from the staff’s implementation of C$50 Finance at <a href="https://www.cs50.net/finance">https://www.cs50.net/finance</a>.</p>
<div class="paragraph">
<p>In particular, you are welcome to register with as many (fake) 
usernames as you would like in order to play.  And you are welcome to 
view our pages' HTML and CSS (by viewing our source using your browser) 
so that you might learn from or improve upon our own design.  If you 
wish, feel free to adopt our HTML and CSS as your own.</p>
</div>
<div class="paragraph">
<p>But do not feel that you need copy our design.  In fact, for this 
problem set, you may modify every one of the files we have given you to 
suit your own tastes as well as incorporate your own images and more.  
In fact, may that your version of C$50 Finance be nicer than ours!</p>
</div>
</li>
<li>
<p>Okay, now it’s time to empower users to look up quotes for individual
 stocks.  Odds are you’ll want to create a new controller called, say, <code>quote.php</code>
 plus two new templates, the first of which displays an HTML form via 
which a user can submit a stock’s symbol, the second of which displays, 
minimally, a stock’s latest price (if passed, via render, an appropriate
 value).</p>
<div class="paragraph">
<p>How to look up a stock’s latest price?  Well, recall that function called <code>lookup</code> in <code>functions.php</code>.  Odds are you’ll want to call it with code like the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="php language-php"><span class="local-variable">$stock</span> = lookup(<span class="predefined">$_POST</span>[<span class="string"><span class="delimiter">"</span><span class="content">symbol</span><span class="delimiter">"</span></span>]);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Assuming the value of <code>$_POST["symbol"]</code> is a valid symbol for an actual stock, lookup will return an associative array with three keys for that stock, namely its <code>symbol</code>, its <code>name</code>, and its <code>price</code>.  Know that you can use PHP’s <code>number_format</code> function (somehow!) to format price to at least two decimal places but no more than four decimal places.  See <a href="http://php.net/manual/en/function.number-format.php">http://php.net/manual/en/function.number-format.php</a> for details.</p>
</div>
<div class="paragraph">
<p>Of course, if the user submits an invalid symbol (for which lookup 
returns false), be sure to inform the user somehow.  Be sure, too, that 
any HTML generated by your templates is valid, per the W3C’s validator.</p>
</div>
<div class="paragraph">
<p>Here’s Zamyla again:</p>
</div>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/l3OJRBGkU78.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
<li>
<p>And now it’s time to do a bit of design.  At present, your database 
has no way of keeping track of users' portfolios, only users themselves.
  (By "portfolio," we mean a collection of stocks (i.e., shares of 
companies) that some user owns.)  It doesn’t really make sense to add 
additional fields to users itself in order to keep track of the stocks 
owned by users (using, say, one field per company owned).  After all, 
how many different stocks might a user own?  Better to maintain that 
data in a new table altogether so that we do not impose limits on users'
 portfolios or waste space with potentially unused fields.</p>
<div class="paragraph">
<p>Exactly what sort of information need we keep in this new table in 
order to "remember" users' portfolios?  Well, we probably want a field 
for users' IDs (<code>id</code>) so that we can cross-reference holdings with entries in <code>users</code>.
  We probably want to keep track of stocks owned by way of their symbols
 since those symbols are likely shorter (and thus more efficiently 
stored) than stocks' actual names.  Of course, you could also assign 
unique numeric IDs to stocks and remember those instead of their 
symbols.  But then you’d have to maintain your own database of 
companies, built up over time based on data from, say, Yahoo.  It’s 
probably better (and it’s certainly simpler), then, to keep track of 
stocks simply by way of their symbols.  And we probably want to keep 
track of how many shares a user owns of a particular stock.  In other 
words, a table with three fields (<code>id</code>, <code>symbol</code>, and <code>shares</code>)
 sounds pretty good, but you’re welcome to proceed with a design of your
 own.  Whatever your decision, head back to phpMyAdmin and create this 
new table, naming it however you see fit.  To create a new table, click <strong>pset7</strong> in phpMyAdmin’s top-left corner, and on the screen that appears, input a name for your table and some number of columns below <strong>Create table</strong>, then click <strong>Go</strong>.  On the screen that appears next, define (in any order) each of your fields.</p>
</div>
<div class="paragraph">
<p>If you decide to go with three fields (namely <code>id</code>, <code>symbol</code>, and <code>shares</code>), realize that <code>id</code>
 should not be defined as a primary key in this table, else each user 
could own no more than one company’s stock (since his or her <code>id</code> could not appear in more than one row).  Realize, too, that you shouldn’t let some <code>id</code> and some <code>symbol</code>
 to appear together in more than one row.  Better to consolidate users' 
holdings by updating shares whenever some user sells or buys more shares
 of some stock he or she already owns.  A neat way to impose this 
restriction while creating your table is to define a "joint primary key"
 by selecting an <strong>Index</strong> of <code>PRIMARY</code> for both <code>id</code> and <code>symbol</code>.  That way, <code>INSERT</code>
 will fail if you try to insert more than one row for some pair of id 
and symbol.  We leave it to you, though, to decide your fields' types.  
(If you include <code>id</code> in this table, know that its type should match that in <code>users</code>.  But don’t specify <code>AUTO_INCREMENT</code>
 for that field in this new table, as you only want auto-incrementation 
when user IDs are created for new users.  And don’t call your table <code>tbl</code>.)  When done defining your table, click <strong>Save</strong>!</p>
</div>
</li>
<li>
<p>Before we let users buy and sell stocks themselves, let’s give some 
shares to President Skroob and friends at no charge.  Click, in 
phpMyAdmin’s left-hand frame, the link to <code>users</code> and remind 
yourself of your current users' IDs.  Then click, in phpMyAdmin’s 
left-hand frame, the link to your new table (for users' portfolios), 
followed by the tab labeled <strong>Insert</strong>.  Via this 
interface, go ahead and "buy" some shares of some stocks on behalf of 
your users by manually inserting rows into this table.  (You may want to
 return to Yahoo! Finance to look up some actual symbols.)  No need to 
debit their <code>cash</code> in <code>users</code>; consider these shares freebies.</p>
<div class="paragraph">
<p>Once you’ve bought your users some shares, let’s see what you did.  Click the tab labeled <strong>SQL</strong> and run a query like the below, where <code>tbl</code> represents your new table’s name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">SELECT</span> * <span class="keyword">FROM</span> tbl <span class="keyword">WHERE</span> id = <span class="integer">7</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Assuming <code>7</code> is President Skroob’s user ID, that query should return all rows from <code>tbl</code> that represent the president’s holdings.  If the only fields in table are, say, <code>id</code>, <code>symbol</code>, and <code>shares</code>, then know that the above is actually equivalent to the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">SELECT</span> id, symbol, shares <span class="keyword">FROM</span> tbl <span class="keyword">WHERE</span> id = <span class="integer">7</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If, meanwhile, you’d like to retrieve only President Skroob’s shares 
of Discovery Ventures, you might like to try a query like the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">SELECT</span> shares <span class="keyword">FROM</span> tbl <span class="keyword">WHERE</span> id = <span class="integer">7</span> <span class="keyword">AND</span> symbol = <span class="string"><span class="delimiter">'</span><span class="content">DVN.V</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you happened to buy President Skroob some shares of that company, 
the above should return one row with one column, the number of shares.  
If you did not get buy any such shares, the above will return an empty 
result set.</p>
</div>
<div class="paragraph">
<p>Incidentally, via this <strong>SQL</strong> tab, you could have inserted those "purchases" with <code>INSERT</code> statements.  But phpMyAdmin’s GUI saved you the trouble.</p>
</div>
<div class="paragraph">
<p>Alright, let’s put this knowledge to use.  It’s time to let users peruse their portfolios!  Overhaul <code>index.php</code> (a controller) and <code>portfolio.php</code>
 (a template) in such a way that they report each of the stocks in a 
user’s portfolio, including number of shares and current price thereof, 
along with a user’s current cash balance.  Needless to say, <code>index.php</code> will need to invoke <code>lookup</code> much like <code>quote.php</code> did, though perhaps multiple times.  And know that a PHP script can certainly invoke <code>query</code>
 multiple times, even though, thus far, we’ve seen it used in a file no 
more than once.  And you can certainly iterate over the array it returns
 in a template (assuming you pass it in via <code>render</code>).  For 
instance, if your goal is simply to display, say, President Skroob’s 
holdings, one per row in some HTML table, you can generate rows with 
code like the below, where <code>$positions</code> is an array of associative arrays, each of which represents a position (i.e., a stock owned).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="php language-php"><span class="tag">&lt;table&gt;</span>
    <span class="inline-delimiter">&lt;?php</span>

        <span class="keyword">foreach</span> (<span class="local-variable">$positions</span> <span class="keyword">as</span> <span class="local-variable">$position</span>)
        {
            <span class="predefined">print</span>(<span class="string"><span class="delimiter">"</span><span class="content">&lt;tr&gt;</span><span class="delimiter">"</span></span>);
            <span class="predefined">print</span>(<span class="string"><span class="delimiter">"</span><span class="content">&lt;td&gt;</span><span class="delimiter">"</span></span> . <span class="local-variable">$position</span>[<span class="string"><span class="delimiter">"</span><span class="content">symbol</span><span class="delimiter">"</span></span>] . <span class="string"><span class="delimiter">"</span><span class="content">&lt;/td&gt;</span><span class="delimiter">"</span></span>);
            <span class="predefined">print</span>(<span class="string"><span class="delimiter">"</span><span class="content">&lt;td&gt;</span><span class="delimiter">"</span></span> . <span class="local-variable">$position</span>[<span class="string"><span class="delimiter">"</span><span class="content">shares</span><span class="delimiter">"</span></span>] . <span class="string"><span class="delimiter">"</span><span class="content">&lt;/td&gt;</span><span class="delimiter">"</span></span>);
            <span class="predefined">print</span>(<span class="string"><span class="delimiter">"</span><span class="content">&lt;td&gt;</span><span class="delimiter">"</span></span> . <span class="local-variable">$position</span>[<span class="string"><span class="delimiter">"</span><span class="content">price</span><span class="delimiter">"</span></span>] . <span class="string"><span class="delimiter">"</span><span class="content">&lt;/td&gt;</span><span class="delimiter">"</span></span>);
            <span class="predefined">print</span>(<span class="string"><span class="delimiter">"</span><span class="content">&lt;/tr&gt;</span><span class="delimiter">"</span></span>);
        }

    <span class="inline-delimiter">?&gt;</span>
<span class="tag">&lt;/table&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can avoid using the concatenation operator (<code>.</code>) via syntax like the below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="php language-php"><span class="tag">&lt;table&gt;</span>
    <span class="inline-delimiter">&lt;?php</span>

        <span class="keyword">foreach</span> (<span class="local-variable">$positions</span> <span class="keyword">as</span> <span class="local-variable">$position</span>)
        {
            <span class="predefined">print</span>(<span class="string"><span class="delimiter">"</span><span class="content">&lt;tr&gt;</span><span class="delimiter">"</span></span>);
            <span class="predefined">print</span>(<span class="string"><span class="delimiter">"</span><span class="content">&lt;td&gt;</span><span class="inline"><span class="delimiter">{</span><span class="local-variable">$position</span>[<span class="string"><span class="delimiter">"</span><span class="content">symbol</span><span class="delimiter">"</span></span>]<span class="delimiter">}</span></span><span class="content">&lt;/td&gt;</span><span class="delimiter">"</span></span>);
            <span class="predefined">print</span>(<span class="string"><span class="delimiter">"</span><span class="content">&lt;td&gt;</span><span class="inline"><span class="delimiter">{</span><span class="local-variable">$position</span>[<span class="string"><span class="delimiter">"</span><span class="content">shares</span><span class="delimiter">"</span></span>]<span class="delimiter">}</span></span><span class="content">&lt;/td&gt;</span><span class="delimiter">"</span></span>);
            <span class="predefined">print</span>(<span class="string"><span class="delimiter">"</span><span class="content">&lt;td&gt;</span><span class="inline"><span class="delimiter">{</span><span class="local-variable">$position</span>[<span class="string"><span class="delimiter">"</span><span class="content">price</span><span class="delimiter">"</span></span>]<span class="delimiter">}</span></span><span class="content">&lt;/td&gt;</span><span class="delimiter">"</span></span>);
            <span class="predefined">print</span>(<span class="string"><span class="delimiter">"</span><span class="content">&lt;/tr&gt;</span><span class="delimiter">"</span></span>);
        }

    <span class="inline-delimiter">?&gt;</span>
<span class="tag">&lt;/table&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that, in the above version, we’ve surrounded the lines of HTML 
with double quotes instead of single quotes so that the variables within
 (<code>$position["symbol"]</code>, <code>$position["shares"]</code>, and <code>$position["price"]</code>)
 are interpolated  (i.e., substituted with their values) by PHP’s 
interpreter; variables between single quotes are not interpolated.  And 
we’ve also surrounded those same variables with curly braces so that PHP
 realizes they’re variables; variables with simpler syntax (e.g., <code>$foo</code>)
 do not require the curly braces for interpolation.  (It’s fine to use 
double quotes inside those curly braces, even though we’ve also used 
double quotes to surround the entire argument to <code>print</code>.)  Anyhow, though commonly done, generating HTML via calls to <code>print</code> isn’t terribly elegant.  An alternative approach, though still a bit inelegant, is code more like the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="php language-php"><span class="inline-delimiter">&lt;?php</span> <span class="keyword">foreach</span> (<span class="local-variable">$positions</span> <span class="keyword">as</span> <span class="local-variable">$position</span>): <span class="inline-delimiter">?&gt;</span>

    <span class="tag">&lt;tr&gt;</span>
        <span class="tag">&lt;td&gt;</span><span class="inline-delimiter">&lt;?</span>= <span class="local-variable">$position</span>[<span class="string"><span class="delimiter">"</span><span class="content">symbol</span><span class="delimiter">"</span></span>] <span class="inline-delimiter">?&gt;</span><span class="tag">&lt;/td&gt;</span>
        <span class="tag">&lt;td&gt;</span><span class="inline-delimiter">&lt;?</span>= <span class="local-variable">$position</span>[<span class="string"><span class="delimiter">"</span><span class="content">shares</span><span class="delimiter">"</span></span>] <span class="inline-delimiter">?&gt;</span><span class="tag">&lt;/td&gt;</span>
        <span class="tag">&lt;td&gt;</span><span class="inline-delimiter">&lt;?</span>= <span class="local-variable">$position</span>[<span class="string"><span class="delimiter">"</span><span class="content">price</span><span class="delimiter">"</span></span>] <span class="inline-delimiter">?&gt;</span><span class="tag">&lt;/td&gt;</span>
    <span class="tag">&lt;/tr&gt;</span>

<span class="inline-delimiter">&lt;?</span> <span class="keyword">endforeach</span> <span class="inline-delimiter">?&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course, before you can even pass <code>$positions</code> to <code>portfolio.php</code>, you’ll need to define it in <code>index.php</code>.  Allow us to suggest code like the below, which combines names and prices from <code>lookup</code> with shares and symbols, as might be returned as <code>$rows</code> from <code>query</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="php language-php"><span class="local-variable">$positions</span> = [];
<span class="keyword">foreach</span> (<span class="local-variable">$rows</span> <span class="keyword">as</span> <span class="local-variable">$row</span>)
{
    <span class="local-variable">$stock</span> = lookup(<span class="local-variable">$row</span>[<span class="string"><span class="delimiter">"</span><span class="content">symbol</span><span class="delimiter">"</span></span>]);
    <span class="keyword">if</span> (<span class="local-variable">$stock</span> !== <span class="predefined-constant">false</span>)
    {
        <span class="local-variable">$positions</span>[] = [
            <span class="string"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span> =&gt; <span class="local-variable">$stock</span>[<span class="string"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span>],
            <span class="string"><span class="delimiter">"</span><span class="content">price</span><span class="delimiter">"</span></span> =&gt; <span class="local-variable">$stock</span>[<span class="string"><span class="delimiter">"</span><span class="content">price</span><span class="delimiter">"</span></span>],
            <span class="string"><span class="delimiter">"</span><span class="content">shares</span><span class="delimiter">"</span></span> =&gt; <span class="local-variable">$row</span>[<span class="string"><span class="delimiter">"</span><span class="content">shares</span><span class="delimiter">"</span></span>],
            <span class="string"><span class="delimiter">"</span><span class="content">symbol</span><span class="delimiter">"</span></span> =&gt; <span class="local-variable">$row</span>[<span class="string"><span class="delimiter">"</span><span class="content">symbol</span><span class="delimiter">"</span></span>]
        ];
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that, with this code, we’re deliberately create a new array of associative arrays (<code>$positions</code>) rather than add names and prices to an existing array of associative arrays (<code>$rows</code>).  In the interests of good design, it’s generally best not to alter functions' return values (like <code>$rows</code> from <code>query</code>).</p>
</div>
<div class="paragraph">
<p>Now, much like you can pass a page’s title to render, so can you pass these positions, as with the below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="php language-php">render(<span class="string"><span class="delimiter">"</span><span class="content">portfolio.php</span><span class="delimiter">"</span></span>, [<span class="string"><span class="delimiter">"</span><span class="content">positions</span><span class="delimiter">"</span></span> =&gt; <span class="local-variable">$positions</span>, <span class="string"><span class="delimiter">"</span><span class="content">title</span><span class="delimiter">"</span></span> =&gt; <span class="string"><span class="delimiter">"</span><span class="content">Portfolio</span><span class="delimiter">"</span></span>]);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course, you’ll also need to pass a user’s current cash balance from <code>index.php</code> to <code>portfolio.php</code> via <code>render</code> as well, but we leave it to you to figure out how.</p>
</div>
<div class="paragraph">
<p>To be clear, in the spirit of MVC, though, do take care <u>not</u> to call <code>lookup</code> inside of that (or any other) template; you should only call <code>lookup</code>
 in controllers.  Even though templates (aka views) can contain PHP 
code, that code should only be used to print and/or iterate over data 
that’s been passed in (as via render) from a controller.</p>
</div>
<div class="paragraph">
<p>As for what HTML to generate, look, as before, to <a href="https://www.cs50.net/finance/">https://www.cs50.net/finance/</a>
 for inspiration or hints.  But do not feel obliged to mimic our design.
  Make this website your own!  Although any HTML and PHP code that you 
yourself write should be pretty-printed (i.e., nicely indented), it’s 
okay if lines exceed 80 characters in length.   HTML that you generate 
dynamically (as via calls to <code>print</code>), though, does not need to be pretty-printed.</p>
</div>
<div class="paragraph">
<p>As before, be sure to display stocks' prices and users' cash balances to at least two decimal places but no more than four.</p>
</div>
<div class="paragraph">
<p>Incidentally, though we keep using President Skroob in examples, your code should work for whichever user is logged in.</p>
</div>
<div class="paragraph">
<p>As always, be sure that the HTML generated by <code>index.php</code> is valid.</p>
</div>
<div class="paragraph">
<p>Here’s Zamyla with some additional tips:</p>
</div>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/ExR5lqe3ogc.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
<li>
<p>And now it is time to implement the ability to sell with a controller called, say, <code>sell.php</code>
 and some number of templates.  We leave the design of this feature to 
you.  But know that you can delete rows from your table (on behalf of, 
say, President Skroob) with SQL like the below.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">DELETE</span> <span class="keyword">FROM</span> tbl <span class="keyword">WHERE</span> id = <span class="integer">7</span> <span class="keyword">AND</span> symbol = <span class="string"><span class="delimiter">'</span><span class="content">DVN.V</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We leave it to you to infer exactly what that statement should do.  Of course, you could try the above out via phpMyAdmin’s <strong>SQL</strong>
 tab.  Now what about the user’s cash balance?  Odds are, your user is 
going to want the proceeds of all sales.  So selling a stock involves 
updating not only your table for users' portfolios but <code>users</code>
 as well.  We leave it to you to determine how to compute how much cash a
 user is owed upon sale of some stock.  But once you know that amount 
(say, $500), SQL like the below should take care of the deposit (for, 
say, President Skroob).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">UPDATE</span> users <span class="class">SET</span> cash = cash + <span class="integer">500</span> <span class="keyword">WHERE</span> id = <span class="integer">7</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course, if the database or web server happens to die between this <code>DELETE</code> and <code>UPDATE</code>,
 President Skroob might lose out on all of that cash.  You need not 
worry about such cases!  It’s also possible, because of multithreading 
and, thus, race conditions, that a clever president could trick your 
site into paying out more than once.  You need not worry about such 
cases either!  Though, if you’re so very inclined, you can employ SQL 
transactions (with InnoDB tables).  See <a href="http://dev.mysql.com/doc/refman/5.6/en/innodb.html">http://dev.mysql.com/doc/refman/5.6/en/innodb.html</a> for reference.</p>
</div>
<div class="paragraph">
<p>It’s fine, for simplicity, to require that users sell all shares of 
some stock or none, rather than only a few.  Needless to say, try out 
your code by logging in as some user and selling some stuff.  You can 
always "buy" it back manually with phpMyAdmin.</p>
</div>
<div class="paragraph">
<p>As always, be sure that your HTML is valid!</p>
</div>
<div class="paragraph">
<p>And as always, here is Zamyla!</p>
</div>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/OfMXp22SNq8.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
<li>
<p>Now it’s time to support actual buys.  Implement the ability to buy, with a controller called, say, <code>buy.php</code>
 and some number of templates.  (As before, you need not worry about 
interruptions of service or race conditions.)  The interface with which 
you provide a user is entirely up to you, though, as before, feel free 
to look to <a href="https://www.cs50.net/finance">https://www.cs50.net/finance</a>
 for inspiration or hints.  Of course, you’ll need to ensure that a user
 cannot spend more cash than he or she has on hand.  And you’ll want to 
make sure that users can only buy whole shares of stocks, not fractions 
thereof.  For this latter requirement, know that a call like</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="php language-php"><span class="predefined">preg_match</span>(<span class="string"><span class="delimiter">"</span><span class="content">/^</span><span class="content">\d</span><span class="content">+</span><span class="content">$</span><span class="content">/</span><span class="delimiter">"</span></span>, <span class="predefined">$_POST</span>[<span class="string"><span class="delimiter">"</span><span class="content">shares</span><span class="delimiter">"</span></span>])</code></pre>
</div>
</div>
<div class="paragraph">
<p>will return <code>true</code> if and only if <code>$_POST["shares"]</code> contains a non-negative integer, thanks to its use of a regular expression.  See <a href="http://www.php.net/preg_match">http://www.php.net/preg_match</a>
 for details.  Take care to apologize to the user if you must reject 
their input for any reason.  In other words, be sure to perform rigorous
 error-checking.  (We leave to you to determine what needs to be 
checked!)</p>
</div>
<div class="paragraph">
<p>When it comes time to store stocks' symbols in your database table, 
take care to store them in uppercase (as is convention), no matter how 
they were inputted by users, so that you don’t accidentally treat, say, <code>dvn.v</code> and <code>DVN.V</code> as different stocks.  Don’t force users, though, to input symbols in uppercase.</p>
</div>
<div class="paragraph">
<p>Incidentally, if you implemented your table for users' portfolios as 
we did ours (with that joint primary key), know that SQL like the below 
(which, unfortunately, wraps onto two lines) will insert a new row into 
table unless the specified pair of <code>id</code> and <code>symbol</code> already exists in some row, in which case that row’s number of shares will simply be increased (say, by <code>10</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> <span class="type">table</span> (id, symbol, shares) <span class="keyword">VALUES</span>(<span class="integer">7</span>, <span class="string"><span class="delimiter">'</span><span class="content">DVN.V</span><span class="delimiter">'</span></span>, <span class="integer">10</span>) <span class="keyword">ON</span> DUPLICATE <span class="type">KEY</span> <span class="class">UPDATE</span> shares = shares + <span class="keyword">VALUES</span>(shares)</code></pre>
</div>
</div>
<div class="paragraph">
<p>As always, be sure to bang on your code.  And be sure that your HTML is valid!</p>
</div>
<div class="paragraph">
<p>Here’s Zamyla with some additional help:</p>
</div>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/vWIKlxF1iog.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
<li>
<p>Alright, so your users can now buy and sell stocks and even check 
their portfolio’s value.  But they have no way of viewing their history 
of transactions.</p>
<div class="paragraph">
<p>Enhance your implementations for buying and selling in such a way that you start logging transactions, recording for each:</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Whether a stock was bought or sold.</p>
</li>
<li>
<p>The symbol bought or sold.</p>
</li>
<li>
<p>The number of shares bought or sold.</p>
</li>
<li>
<p>The price of a share at the time of transaction.</p>
</li>
<li>
<p>The date and time of the transaction.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Then, by way of a controller called, say, <code>history.php</code> 
and some number of templates, enable users to peruse their own history 
of transactions, formatted as you see fit.  Be sure that your HTML is 
valid!</p>
</div>
<div class="paragraph">
<p>Here’s Zamyla again:</p>
</div>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/XuxJbwCdquk.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
<li>
<p>Phew.  Glance back at <code>index.php</code> now and, if not there already, make that it somehow links to, at least, <code>buy.php</code>, <code>history.php</code>, <code>logout.php</code>, <code>quote.php</code>, and <code>sell.php</code> (or their equivalents) so that each is only one click away from a user’s portfolio!</p>
</li>
<li>
<p>And now the icing on the cake.  Only one feature to go, but you get 
to choose.  Implement at least one (1) of the features below.  You may 
interpret each of the below as you see fit; we leave all design 
decisions to you.  Be sure that your HTML is valid.</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Empower users (who’re already logged in) to change their passwords.</p>
</li>
<li>
<p>Empower users who’ve forgotten their password to reset it (as by 
having them register with an email address so that you can email them a 
link via which to do so).</p>
</li>
<li>
<p>Email users "receipts" anytime they buy or sell stocks.</p>
</li>
<li>
<p>Empower users to deposit additional funds.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>For tips on how to send email programmatically, see <a href="https://manual.cs50.net/Sending_Mail">https://manual.cs50.net/Sending_Mail</a>.</p>
</div>
<div class="paragraph">
<p>Here’s Zamyla with a few final thoughts:</p>
</div>
<iframe src="Problem%20Set%207:%20C$50%20Finance_files/7iPqmGgA2Os.html" allowfullscreen="" frameborder="0" height="540" width="960"></iframe>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sanity_checks">Sanity Checks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you consider this problem set done, best to ask yourself these
 questions and then go back and improve your code as needed!  Do not 
consider the below an exhaustive list of expectations, though, just some
 helpful reminders.  The checkboxes that have come before these 
represent the exhaustive list!  To be clear, consider the questions 
below rhetorical.  No need to answer them in writing for us, since all 
of your answers should be "yes!"</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Is the HTML generated by all of your PHP files valid according to <a href="http://validator.w3.org/?">http://validator.w3.org/?</a></p>
</li>
<li>
<p>Do your pages detect and handle invalid inputs properly?</p>
</li>
<li>
<p>Are you recording users' histories of transactions properly?</p>
</li>
<li>
<p>Did you add one (1) additional feature of your own?</p>
</li>
<li>
<p>Did you choose appropriate data types for your database tables' fields?</p>
</li>
<li>
<p>Are you displaying any dollar amounts to at least two decimal places but no more than four?</p>
</li>
<li>
<p>Are you storing stocks' symbols in your table(s) in uppercase?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As always, if you can’t answer "yes" to one or more of the above because you’re having some trouble, do turn to <a href="https://www.cs50.net/discuss">cs50.net/discuss</a>!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_submit">How to Submit</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_step_1_of_2">Step 1 of 2</h3>
<div class="ulist">
<ul>
<li>
<p>When ready to submit, open up a Terminal window and "export" your 
MySQL database (i.e., save it into a text file) by executing the 
commands below, inputting <strong>crimson</strong> when prompted for a password.  For security, you won’t see the password as you type it.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">cd ~/vhosts/pset7
mysqldump -u jharvard -p pset7 &gt; pset7.sql</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you type <code>ls</code> thereafter, you should see that you have a new file called <code>pset7.sql</code> in <code>~/vhosts/pset7</code>.  (If you realize later that you need to make a change to your database and re-export it, you can delete <code>pset7.sql</code> with <code>rm pset7.sql</code>, then re-export as before.)  Next create a ZIP (i.e., compressed) file containing your entire <code>pset7</code> directory by executing the below.  Incidentally, <code>-r</code> means "recursive," which in this case means to ZIP up everything inside of <code>pset7</code>, including any subdirectories (or even subsubdirectories!).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="bash language-bash">cd ~/vhosts
zip -r pset7.zip pset7/</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you type <code>ls</code> thereafter, you should see that you have a new file called <code>pset7.zip</code> in <code>~/vhosts</code>.
  (If you realize later that you need to make a change to some file and 
re-ZIP everything, you can delete the ZIP file you already made with <code>rm pset7.zip</code>, then create a new ZIP file as before.)</p>
</div>
</li>
<li>
<p>Once done creating your ZIP file, open up Chrome <em>inside</em> of the appliance (not on your own computer) and visit <a href="https://www.cs50.net/submit">cs50.net/submit</a>, logging in if prompted.</p>
</li>
<li>
<p>Click <strong>Submit</strong> toward the window’s top-left corner.</p>
</li>
<li>
<p>Under <strong>pset7</strong> on the screen that appears, click <strong>Upload New Submission</strong>.</p>
</li>
<li>
<p>On the screen that appears, click <strong>Add files…</strong>.  A window entitled <strong>Open Files</strong> should appear.</p>
</li>
<li>
<p>Navigate your way to <code>pset7.zip</code>, as by clicking <strong>jharvard</strong>, then double-clicking <strong>Dropbox</strong>.  Once you find <code>pset7.zip</code>, click it once to select it, then click <strong>Open</strong>.</p>
</li>
<li>
<p>Click <strong>Start upload</strong> to upload your ZIP file to CS50’s servers.</p>
</li>
<li>
<p>On the screen that appears, you should see a window with <strong>No File Selected</strong>.
  If you move your mouse toward the window’s lefthand side, you should 
see a list of the files you uploaded.  Click each to confirm the 
contents of each.  (No need to click any other buttons or icons.)  If 
confident that you submitted the files you intended, consider your 
source code submitted!  If you’d like to re-submit different (or 
modified) files, simply return to <a href="https://www.cs50.net/submit">cs50.net/submit</a>
 and repeat these steps.  You may re-submit as many times as you’d like;
 we’ll grade your most recent submission, so long as it’s before the 
deadline.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_step_2_of_2">Step 2 of 2</h3>
<div class="ulist">
<ul>
<li>
<p>Head to <a href="https://forms.cs50.net/2013/fall/psets/7/">https://forms.cs50.net/2013/fall/psets/7/</a> where a short form awaits.  Once you have submitted that form (as well as your source code), you are done!</p>
<div class="paragraph">
<p>This was Problem Set 7.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2013-11-11 22:58:34 EST
</div>
</div>

</body></html>